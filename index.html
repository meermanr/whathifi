<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC
    "-//W3C//DTD XHTML 1.1 plus MathML 2.0 plus SVG 1.1//EN"
        "http://www.w3.org/2002/04/xhtml-math-svg/xhtml-math-svg.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <script type='text/javascript' src='d3.v3.js'></script>
        <script type='text/javascript' src='whathifi.js'></script>
        <link rel='stylesheet' type='text/css' href='whathifi.css' />
        <title>What HiFi AV Receiver reviews</title>
    </head>
    <body>
        <h1>What HiFi AV Receiver reviews</h1>
        <p>
        I wrote a script to scrape the technical specifications, ratings, and 
        prices of all the Home Cinema AV Receiver reviews on <a 
            href='http://whathifi.com'>What HiFi website</a> because their 
        search feature did not provide a means to filter reviews by anything 
        useful, such as whether it is THX certified or not, or how many 
        speakers outputs it supports.
        </p>
        <p>
        In all, <span id='review_count'>COUNT</span> reviews have been scraped 
        into my MongoDB based database.
        </p>
        <p>Punchcard Chart of AV receiver ratings (y-axis) versus price in Â£GBP 
        (x-axis). Bubble size represent number of reviews which fall into the 
        category.</p>
        <p>
        <label>Round price to nearest: <input id='price_to_nearest' value='500'/></label>
        <label>Min price: <input id='price_min' value='0'/></label>
        <label>Max price: <input id='price_max' value='7000'/></label>
        </p>
        <p>
        <label>Min rating: <input id='rating_min' value='80'/></label>
        <label>Max rating: <input id='rating_max' value='100'/></label>
        </p>
        <p id='punchcard_chart'>
        <ul id='hover_details'></ul>
        </p>

        <!-- Load this last. It will invoke whathifi.js::init() with a data 
        payload, which will modify the document above -->
        <script type='text/javascript' src='./av_receivers.jsonp'></script>

        <svg xmlns="http://www.w3.org/2000/svg" version="1.1">
            <defs>
                <filter id="filter1" filterUnits='userSpaceOnUse' x="-50%" y="-50%" width="200%" height="200%">
                    <feGaussianBlur in="SourceAlpha" stdDeviation="4" result="blur"/>
                    <feOffset in="blur" dx="2" dy="2" result="offsetBlur"/>
                    <feSpecularLighting in="blur" surfaceScale="5" specularConstant=".75" specularExponent="20" lighting-color="#bbbbbb" result="specOut">
                        <fePointLight x="-5000" y="-10000" z="20000"/>
                    </feSpecularLighting>
                    <feComposite in="specOut" in2="SourceAlpha" operator="in" result="specOut"/>
                    <feComposite in="SourceGraphic" in2="specOut" operator="arithmetic" k1="0" k2="1" k3="1" 
                    k4="0" result="litPaint"/>
                    <feMerge>
                        <feMergeNode in="offsetBlur"/>
                        <feMergeNode in="litPaint"/>
                    </feMerge>
                </filter>
            </defs>
        </svg>

    </body>
</html>
